; loader 和 kernel
LOADER_BASE_ADDR    equ 0x900 ; loader 被 MBR 写到的内存地址
LOADER_START_SECTOR equ 0x2   ; loader 所在硬盘 LBA 扇区

; GDT 描述符属性
DESC_G_4K         equ 00000000_10000000_00000000_00000000b ; 段界限粒度为 4KB
DESC_D_32         equ 00000000_01000000_00000000_00000000b ; 指令中的有效地址及操作数是 32 位，指令有效地址用 EIP 寄存器
DESC_L            equ 00000000_00000000_00000000_00000000b ; 32 位代码段
DESC_AVL          equ 00000000_00000000_00000000_00000000b ; AVL 位无用途，置为 0
DESC_LIMIT_CODE2  equ 00000000_00001111_00000000_00000000b ; 段界限 19 ~ 16 位
DESC_LIMIT_DATA2  equ DESC_LIMIT_CODE2
DESC_LIMIT_VIDEO2 equ 00000000_00000000_00000000_00001011b ; 段界限 19 ~ 16 位
DESC_P            equ 00000000_00000000_10000000_00000000b ; 段存在于内存中
DESC_DPL_0        equ 00000000_00000000_00000000_00000000b ; 特权级 0
DESC_DPL_1        equ 00000000_00000000_00100000_00000000b ; 特权级 1
DESC_DPL_2        equ 00000000_00000000_01000000_00000000b ; 特权级 2
DESC_DPL_3        equ 00000000_00000000_01100000_00000000b ; 特权级 3
DESC_S_CODE       equ 00000000_00000000_00010000_00000000b ; 数据段
DESC_S_DATA       equ DESC_S_CODE                          ; 数据段
DESC_S_SYS        equ 00000000_00000000_00000000_00000000b ; 系统段
DESC_TYPE_CODE    equ 00000000_00000000_00001000_00000000b ; 可执行，非一致性，不可读，已访问位清 0
DESC_TYPE_DATA    equ 00000000_00000000_00000010_00000000b ; 不可执行，向上扩展，可写，已访问位清 0
DESC_CODE_HIGH4   equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L + DESC_AVL + DESC_LIMIT_CODE2 + DESC_P + DESC_DPL_0 + DESC_S_CODE + DESC_TYPE_CODE + 0x00
DESC_DATA_HIGH4   equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L + DESC_AVL + DESC_LIMIT_DATA2 + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_TYPE_DATA + 0x00
DESC_VIDEO_HIGH4  equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L + DESC_AVL + DESC_LIMIT_VIDEO2 + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_TYPE_DATA + 0x00

; 选择子属性
RPL0 equ 00b
RPL1 equ 01b
RPL2 equ 10b
RPL3 equ 11b
TI_GDT equ 000b
TI_LDT equ 100b
